Session storage benchmark
===================================

Main purpose of this script - emulate load, generated by PHP sessions.
You can use it to compare different session storage systems. Right now it support memcache and Redis storage systems.
Also it can emulate usuge of persistent connections.

How to use this script:   
```
./session_storage_bench -help    
Usage of ./session_storage_bench:   
  -no_connections=100: Number of parallel connections    
  -num_cpu=1: Number of used CPU    
  -num_requests=100: Number of requests    
  -persistent=false: Use persistent connections    
  -storage_address="127.0.0.1:11211": Tested storage instance host and port    
  -storage_type="memcache": Session backend: memcache(default) or redis    
```

Please, note that each connection will emulate one php-fpm process:   
- It will open connection to storage (if persistence == false)   
- Lock session    
- Read session data    
- Wait 200ms (avg request processing time)
- Write session data back    
- Remove session lock   
- Close connection   

So num_connections == 100 means what we emulate pool of 100 php-fpm processes.
num_requests - is total amount of requests for all processes. So if num_connections = 100 and num_requests = 1000, then each "php-fpm process" will make 10 request with 200ms sleep in the middle of each request.
   
Below is example of output:  
```
./session_storage_bench -storage_type=redis  -no_connections=4000 -num_requests=100000 -storage_address="127.0.0.1:6379"
===================================================================
|| Total stats
===================================================================
Transactions: 100000 hits
Availability: 100.00 %
Response time(Lock,Get,Set,Unlock): 775.611221ms
Successful transactions: 100000
Failed transactions: 0
Longest transaction: 4.624090838s 
Shortest transaction: 186.84047ms 
```


